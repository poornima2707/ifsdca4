{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\OneDrive\\\\Desktop\\\\IFSD_CA44\\\\Library-Central-main\\\\frontend\\\\src\\\\context\\\\AppContext.jsx\",\n  _s = $RefreshSig$();\nimport React, { createContext, useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  token: localStorage.getItem('token') || '',\n  role: localStorage.getItem('role') || ''\n};\nconst AppContext = /*#__PURE__*/createContext(initialState);\nconst appReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN_SUCCESS':\n      localStorage.setItem('token', action.payload.token);\n      localStorage.setItem('role', action.payload.role);\n      return {\n        ...state,\n        token: action.payload.token,\n        role: action.payload.role\n      };\n    case 'LOGOUT':\n      localStorage.removeItem('token');\n      localStorage.removeItem('role');\n      return {\n        ...state,\n        token: '',\n        role: ''\n      };\n    default:\n      return state;\n  }\n};\nconst AppProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(appReducer, initialState);\n  const logout = () => {\n    dispatch({\n      type: 'LOGOUT'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      ...state,\n      dispatch,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(AppProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = AppProvider;\nexport { AppContext, AppProvider };\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["React","createContext","useReducer","jsxDEV","_jsxDEV","initialState","token","localStorage","getItem","role","AppContext","appReducer","state","action","type","setItem","payload","removeItem","AppProvider","children","_s","dispatch","logout","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/DELL/OneDrive/Desktop/IFSD_CA44/Library-Central-main/frontend/src/context/AppContext.jsx"],"sourcesContent":["import React, { createContext, useReducer } from 'react';\n\nconst initialState = {\n    token: localStorage.getItem('token') || '',\n    role: localStorage.getItem('role') || '',\n};\n\nconst AppContext = createContext(initialState);\n\nconst appReducer = (state, action) => {\n    switch (action.type) {\n        case 'LOGIN_SUCCESS':\n            localStorage.setItem('token', action.payload.token);\n            localStorage.setItem('role', action.payload.role);\n            return {\n                ...state,\n                token: action.payload.token,\n                role: action.payload.role,\n            };\n        case 'LOGOUT':\n            localStorage.removeItem('token');\n            localStorage.removeItem('role');\n            return {\n                ...state,\n                token: '',\n                role: '',\n            };\n        default:\n            return state;\n    }\n};\n\nconst AppProvider = ({ children }) => {\n    const [state, dispatch] = useReducer(appReducer, initialState);\n\n    const logout = () => {\n        dispatch({ type: 'LOGOUT' });\n    };\n\n    return (\n        <AppContext.Provider value={{ ...state, dispatch, logout }}>\n            {children}\n        </AppContext.Provider>\n    );\n};\n\nexport { AppContext, AppProvider };\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzD,MAAMC,YAAY,GAAG;EACjBC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;EAC1CC,IAAI,EAAEF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI;AAC1C,CAAC;AAED,MAAME,UAAU,gBAAGT,aAAa,CAACI,YAAY,CAAC;AAE9C,MAAMM,UAAU,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EAClC,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,eAAe;MAChBP,YAAY,CAACQ,OAAO,CAAC,OAAO,EAAEF,MAAM,CAACG,OAAO,CAACV,KAAK,CAAC;MACnDC,YAAY,CAACQ,OAAO,CAAC,MAAM,EAAEF,MAAM,CAACG,OAAO,CAACP,IAAI,CAAC;MACjD,OAAO;QACH,GAAGG,KAAK;QACRN,KAAK,EAAEO,MAAM,CAACG,OAAO,CAACV,KAAK;QAC3BG,IAAI,EAAEI,MAAM,CAACG,OAAO,CAACP;MACzB,CAAC;IACL,KAAK,QAAQ;MACTF,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC;MAChCV,YAAY,CAACU,UAAU,CAAC,MAAM,CAAC;MAC/B,OAAO;QACH,GAAGL,KAAK;QACRN,KAAK,EAAE,EAAE;QACTG,IAAI,EAAE;MACV,CAAC;IACL;MACI,OAAOG,KAAK;EACpB;AACJ,CAAC;AAED,MAAMM,WAAW,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAClC,MAAM,CAACR,KAAK,EAAES,QAAQ,CAAC,GAAGnB,UAAU,CAACS,UAAU,EAAEN,YAAY,CAAC;EAE9D,MAAMiB,MAAM,GAAGA,CAAA,KAAM;IACjBD,QAAQ,CAAC;MAAEP,IAAI,EAAE;IAAS,CAAC,CAAC;EAChC,CAAC;EAED,oBACIV,OAAA,CAACM,UAAU,CAACa,QAAQ;IAACC,KAAK,EAAE;MAAE,GAAGZ,KAAK;MAAES,QAAQ;MAAEC;IAAO,CAAE;IAAAH,QAAA,EACtDA;EAAQ;IAAAM,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACQ,CAAC;AAE9B,CAAC;AAACR,EAAA,CAZIF,WAAW;AAAAW,EAAA,GAAXX,WAAW;AAcjB,SAASR,UAAU,EAAEQ,WAAW;AAAG,IAAAW,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}